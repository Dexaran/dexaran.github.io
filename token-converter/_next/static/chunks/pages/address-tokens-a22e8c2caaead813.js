(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{8073:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/address-tokens",function(){return s(76235)}])},76235:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return Home},manrope:function(){return d()}});var n=s(85893),t=s(96682),d=s.n(t),r=s(67294),o=s(9008),l=s.n(o),i=s(33595),c=s.n(i),k=s(90512),u=s(81447),C=s(39341),m=s(69077),h=s(23739),p=s(65272),_=s.n(p),x=s(87439),j=s(71883),v=s(12534),A=s(97644),E=s.n(A),f=s(18618),B=s.n(f),w=s(16195),g=s.n(w);let noStorage=()=>!window.localStorage,storeData=(e,a)=>{if(noStorage())return!1;try{let s={time:Date.now(),value:a};return window.localStorage.setItem(e,JSON.stringify(s)),!0}catch(e){return!1}},getData=e=>{if(noStorage())return null;let a=window.localStorage.getItem(e);try{let e=JSON.parse(a);return e.value}catch(e){return null}},filterTokensByErc20Contract=e=>{let a=e.filter(e=>!!e.tokenAddressERC20),s=e.filter(e=>!e.tokenAddressERC20),n=B()(a,e=>e.tokenAddressERC20);return[...s,...n]},filterTokensByErc223Contract=e=>{let a=e.filter(e=>!!e.tokenAddressERC223),s=e.filter(e=>!e.tokenAddressERC223),n=B()(a,e=>e.tokenAddressERC223);return[...s,...n]},filterTokensByUniqAddress=e=>filterTokensByErc223Contract(filterTokensByErc20Contract(e)),useCustomTokens=e=>{let a="customTokensV2.".concat(e),[s,n]=(0,r.useState)([]),updateCustomTokens=e=>{console.log("\uD83D\uDE80 ~ updateCustomTokens ~ tokens:",e),n(e),storeData(a,e)};return(0,r.useEffect)(()=>{let e=getData(a);n(e||[])},[a]),{customTokens:s,addCustomToken:e=>{let a=filterTokensByUniqAddress(g()([...s,e]));updateCustomTokens(a)},removeCustomToken:e=>updateCustomTokens(E()(g()(s.filter(a=>a.tokenAddressERC20&&e.tokenAddressERC20?a.tokenAddressERC20!==e.tokenAddressERC20:!a.tokenAddressERC223||!e.tokenAddressERC223||a.tokenAddressERC223!==e.tokenAddressERC223))))}};var b=s(28661),T=s.n(b),R=s(12694),N=s.n(R),y=s(47964),I=s(43748),L=s(14518);let TokenCard=e=>{let{address:a,token:s,showMessage:t,chainId:d,isCustom:r,addHandler:o,removeHandler:l,isMobile:i}=e,{data:c,isLoading:u}=(0,m.KQ)({address:s.tokenAddressERC20?a:void 0,token:s.tokenAddressERC20}),{data:C,isLoading:p}=(0,m.KQ)({address:s.tokenAddressERC223?a:void 0,token:s.tokenAddressERC223,watch:!0});return i?(0,n.jsxs)("div",{className:N().tokenCard,children:[(0,n.jsxs)("div",{className:N().tokenCardHeader,children:[(0,n.jsxs)("div",{className:(0,k.Z)(N().tokenCardToken,r&&N().isCustom),children:[r?(0,n.jsx)(h.P,{name:"drag",fill:"#787B78",size:20}):null,(0,n.jsx)("img",{src:s.logo||"".concat(L.s,"/token-default.svg"),width:"44px",height:"44px",alt:s.symbol}),(0,n.jsx)("span",{children:s.symbol})]}),(0,n.jsx)("button",{className:(0,k.Z)(_().updateButton,_().actionButton),onClick:()=>{r?l(s):o(s)},children:(0,n.jsx)(h.P,{name:r?"delete":"add"})})]}),(0,n.jsxs)("div",{className:N().tokenCardBalance,children:[(0,n.jsxs)("div",{className:N().tokenCardBalanceAmount,children:[(0,n.jsx)("span",{children:"ERC20"}),(0,n.jsx)("span",{children:u?"Loading..":"".concat((0,y.dt)(parseFloat((null==c?void 0:c.formatted)||"0"))," ").concat(s.symbol)})]}),(0,n.jsx)("span",{className:(0,k.Z)(N().tokenCardBalanceContract,N().withBorder),children:s.tokenAddressERC20?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",href:(0,I.Mm)(d,s.tokenAddressERC20),children:"".concat((0,y.u)(s.tokenAddressERC20,13))}),(0,n.jsx)(h.P,{name:"copy",onClick:async()=>{await navigator.clipboard.writeText(s.tokenAddressERC20),t("ERC-20 Token address copied")}})]}):"not deployed yet"})]}),(0,n.jsxs)("div",{className:N().tokenCardBalance,children:[(0,n.jsxs)("div",{className:N().tokenCardBalanceAmount,children:[(0,n.jsx)("span",{children:"ERC223"}),(0,n.jsx)("span",{children:p?"Loading..":"".concat((0,y.dt)(parseFloat((null==C?void 0:C.formatted)||"0"))," ").concat(s.symbol)})]}),(0,n.jsx)("span",{className:N().tokenCardBalanceContract,children:s.tokenAddressERC223?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",href:(0,I.Mm)(d,s.tokenAddressERC223),children:"".concat((0,y.u)(s.tokenAddressERC223,13))}),(0,n.jsx)(h.P,{name:"copy",onClick:async()=>{await navigator.clipboard.writeText(s.tokenAddressERC223),t("ERC-223 Token address copied")}})]}):"not deployed yet"})]})]}):(0,n.jsxs)("div",{className:T().tokenCard,children:[(0,n.jsxs)("div",{className:(0,k.Z)(T().tokenCardToken,r&&T().isCustom),children:[r?(0,n.jsx)(h.P,{name:"drag",fill:"#787B78",size:20}):null,(0,n.jsx)("img",{src:s.logo||"".concat(L.s,"/token-default.svg"),width:"44px",height:"44px",alt:s.symbol}),(0,n.jsx)("span",{children:s.symbol})]}),(0,n.jsxs)("div",{className:T().tokenCardBalance,children:[(0,n.jsx)("span",{children:u?"Loading..":"".concat((0,y.dt)(parseFloat((null==c?void 0:c.formatted)||"0"))," ").concat(s.symbol)}),(0,n.jsx)("span",{className:T().tokenCardBalanceContract,children:s.tokenAddressERC20?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",href:(0,I.Mm)(d,s.tokenAddressERC20),children:"".concat((0,y.u)(s.tokenAddressERC20))}),(0,n.jsx)(h.P,{name:"copy",onClick:async()=>{await navigator.clipboard.writeText(s.tokenAddressERC20),t("ERC-20 Token address copied")}})]}):"not deployed yet"})]}),(0,n.jsxs)("div",{className:T().tokenCardBalance,children:[(0,n.jsx)("span",{children:p?"Loading..":"".concat((0,y.dt)(parseFloat((null==C?void 0:C.formatted)||"0"))," ").concat(s.symbol)}),(0,n.jsx)("span",{className:T().tokenCardBalanceContract,children:s.tokenAddressERC223?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",href:(0,I.Mm)(d,s.tokenAddressERC223),children:"".concat((0,y.u)(s.tokenAddressERC223))}),(0,n.jsx)(h.P,{name:"copy",onClick:async()=>{await navigator.clipboard.writeText(s.tokenAddressERC223),t("ERC-223 Token address copied")}})]}):"not deployed yet"})]}),(0,n.jsx)("button",{className:(0,k.Z)(_().updateButton,_().actionButton),onClick:()=>{r?l(s):o(s)},children:(0,n.jsx)(h.P,{name:r?"delete":"add"})})]})};var F=s(97451),S=s(47224),H=s(73290),M=s(91296),W=s.n(M);let useIsMobile=()=>{let[e,a]=(0,r.useState)(!1);return(0,r.useLayoutEffect)(()=>{let updateSize=()=>{a(window.innerWidth<500)};return window.addEventListener("resize",W()(updateSize,250)),updateSize(),()=>window.removeEventListener("resize",updateSize)},[]),e};var D=s(35660);let AddressBalance=e=>{let{defaultChainId:a}=e,{address:s}=(0,m.mA)(),{chain:t}=(0,m.LN)(),[d,o]=(0,r.useState)(""),[l,i]=(0,r.useState)(""),[u,C]=(0,r.useState)([]),[p,A]=(0,r.useState)(u),E=(0,F.U)(l),f=(0,F.U)(d),B=(0,r.useCallback)(()=>u.filter(e=>e.symbol.toLowerCase().startsWith(l.toLowerCase())||e.contract.toLowerCase()===l.toLowerCase()),[u,l]);(0,r.useEffect)(()=>{if(!l)return A(u);A(B())},[u,B,l]);let{customTokens:w,addCustomToken:b,removeCustomToken:T}=useCustomTokens((null==t?void 0:t.id)||a),R=(0,m.t_)({chainId:(null==t?void 0:t.id)||a}),N=(0,I.De)((null==t?void 0:t.id)||a),y=(0,r.useCallback)(async e=>{let s,n;let d=u.find(a=>a.contract.toLowerCase()===e.toLowerCase());if(d){b({tokenAddressERC20:d.contract,symbol:d.symbol,markets:d.markets,decimals:d.decimals,logo:d.logo}),i("");return}let r=await R.readContract({address:e,abi:D,functionName:"standard"}).catch(()=>""),o=await R.readContract({address:N,abi:S,functionName:"isWrapper",args:[e]}).catch(()=>!1);if("erc223"===r||"223"===r){n=e;let a=await R.readContract({address:N,abi:S,functionName:o?"getERC20OriginFor":"getERC20WrapperFor",args:[e]}).catch(()=>void 0),t=(null==a?void 0:a[0])==="0x0000000000000000000000000000000000000000"?void 0:null==a?void 0:a[0];s=t}else{s=e;let a=await R.readContract({address:N,abi:S,functionName:o?"getERC223OriginFor":"getERC223WrapperFor",args:[e]}).catch(()=>void 0),t=(null==a?void 0:a[0])==="0x0000000000000000000000000000000000000000"?void 0:null==a?void 0:a[0];n=t}let l=await (0,H.EC)({address:e,chainId:(null==t?void 0:t.id)||a});b({tokenAddressERC20:s,tokenAddressERC223:n,decimals:l.decimals,symbol:l.symbol}),i("")},[R,N,b,a,null==t?void 0:t.id,u]),addTokenFromAddressHandler=async()=>{l&&E&&await y(l)};(0,r.useEffect)(()=>{o(s||"")},[s,o]),(0,r.useEffect)(()=>{(async()=>{let e=await (0,j.h)((null==t?void 0:t.id)||a);C(e||[])})()},[null==t?void 0:t.id,a]);let{showMessage:L}=(0,v.D)(),M=[...w,...u.filter(e=>!g()(w.map(e=>e.tokenAddressERC20)).includes(e.contract)).map(e=>{let{contract:a,isErc223:s,...n}=e;return{[s?"tokenAddressERC223":"tokenAddressERC20"]:a,...n}})],W=useIsMobile(),renderRow=e=>{let{index:s,key:r,style:o}=e,l=M[s];return(0,n.jsx)("div",{className:_().listItem,style:o,children:(0,n.jsx)(TokenCard,{token:l,showMessage:L,chainId:(null==t?void 0:t.id)||a,address:d,isCustom:s<w.length,addHandler:e=>{b(e)},removeHandler:e=>{T(e)},isMobile:W})},r)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:c().contentBlockHeader,children:[(0,n.jsx)("h1",{className:c().h1,children:"View address tokens"}),(0,n.jsx)("p",{className:c().description,children:"You can view ERC-20 & ERC-223 token balances of any address here. For every ERC-20 token there is a ERC-223 version. You can 'pin' tokens to make them display at the top of the list. You can also add a token by typing its name or copy&paste its address to the \"Token name or address\" input and clicking the + button - this will add the token to the top of the list. You can start / stop loading balances by clicking the load button. Token balances from the top of the list are loaded first. This page reads token balances directly from token contracts."})]}),(0,n.jsxs)("div",{className:_().addTokens,children:[(0,n.jsx)("div",{className:_().converterFieldsLabel,children:"Wallet address"}),(0,n.jsxs)("div",{className:(0,k.Z)(_().amountInputWrapper,_().walletAddressInput),children:[(0,n.jsx)("input",{value:d,onChange:e=>{o(e.target.value)},placeholder:"Wallet address",className:_().input,type:"text"}),d&&!f?(0,n.jsx)("span",{className:_().invalidAddressError,children:"Invalid wallet address"}):null]}),(0,n.jsx)("div",{className:_().converterFieldsLabel,children:"Token name or address"}),(0,n.jsxs)("div",{className:_().addTokenContainer,children:[(0,n.jsxs)("div",{className:(0,k.Z)(_().amountInputWrapper,_().searchInputWrapper),children:[(0,n.jsx)("input",{value:l,onChange:e=>{i(e.target.value)},placeholder:"Token name or address",className:(0,k.Z)(_().input,_().searchInput),type:"text"}),l?(0,n.jsx)(n.Fragment,{children:(null==p?void 0:p.length)||E?null:(0,n.jsx)("span",{className:_().invalidAddressError,children:"Invalid token address, verify address matches wallet network"})}):null,(null==p?void 0:p.length)?(0,n.jsx)("div",{className:(0,k.Z)(_().searchAutocomplete,_().styledScrollbar),children:p.slice(0,10).map(e=>{let{contract:a,...s}=e;return(0,n.jsxs)("div",{className:_().searchAutocompleteItem,onClick:()=>{b({...s,tokenAddressERC20:a}),i("")},children:[(0,n.jsx)("img",{src:s.logo,width:"32px",height:"32px",alt:s.symbol}),(0,n.jsx)("span",{children:s.symbol})]},a)})}):null]}),(0,n.jsx)("button",{className:_().addTokenButton,onClick:addTokenFromAddressHandler,disabled:l&&!E,children:(0,n.jsx)(h.P,{name:"add"})})]})]}),(0,n.jsxs)("div",{className:_().tokensList,children:[(0,n.jsxs)("div",{className:_().tokensListHeader,children:[(0,n.jsx)("h3",{children:"List of tokens"}),(0,n.jsx)("button",{className:_().updateButton,children:(0,n.jsx)(h.P,{name:"update"})})]}),(0,n.jsxs)("div",{className:_().tokensListTableHeader,children:[(0,n.jsx)("span",{className:_().tableToken,children:"Token"}),(0,n.jsx)("span",{className:_().tableERC20,children:"ERC-20"}),(0,n.jsx)("span",{className:_().tableERC223,children:"ERC-223"}),(0,n.jsx)("span",{className:_().tableAction,children:"Action"})]})]}),(0,n.jsx)(x.qj,{disableHeight:!0,children:e=>{let{width:a}=e;return(0,n.jsx)(x.aV,{width:a-2,height:W?500:380,rowHeight:W?241:100,rowRenderer:renderRow,rowCount:M.length,overscanRowCount:3,className:(0,k.Z)(_().list,_().styledScrollbar),style:{paddingBottom:"20px"}})}})]})};function Home(){let[e,a]=(0,r.useState)(1),[s,t]=(0,r.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l(),{children:[(0,n.jsx)("title",{children:"ERC223 converter | View address tokens"}),(0,n.jsx)("meta",{name:"description",content:"ERC223 converter | View address tokens"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("div",{className:(0,k.Z)(c().main,d().className),children:[(0,n.jsx)(C.h,{tab:"addressBalance",defaultChainId:e,setDefaultChainId:a,isChangeNetworkOpen:s,setIsChangeNetworkOpen:t}),(0,n.jsx)("div",{className:c().contentBlockContainer,children:(0,n.jsx)("div",{className:c().contentBlock,children:(0,n.jsx)(AddressBalance,{defaultChainId:e})})}),(0,n.jsx)(u.$,{}),(0,n.jsx)("div",{id:"drawer-root"})]})]})}},65272:function(e){e.exports={addTokens:"AddressBalance_addTokens__qZ9bi",walletAddressInput:"AddressBalance_walletAddressInput__M__4l",converterFieldsLabel:"AddressBalance_converterFieldsLabel__PxnMz",converterCustomFields:"AddressBalance_converterCustomFields__dhVZh",amountInputWrapper:"AddressBalance_amountInputWrapper__DXO4f",input:"AddressBalance_input___f6UK",addTokenContainer:"AddressBalance_addTokenContainer__Nnszb",addTokenButton:"AddressBalance_addTokenButton__HTQiW",updateButton:"AddressBalance_updateButton__TbwDI",actionButton:"AddressBalance_actionButton__EwDYO",tokensList:"AddressBalance_tokensList__8MHNq",tokensListHeader:"AddressBalance_tokensListHeader__UREn0",tokensListTableHeader:"AddressBalance_tokensListTableHeader__72eIx",styledScrollbar:"AddressBalance_styledScrollbar__wHqcu",list:"AddressBalance_list__RJkyJ",listItem:"AddressBalance_listItem__MH5rH",tokenCard:"AddressBalance_tokenCard__k1H98",tokenCardToken:"AddressBalance_tokenCardToken__fcDka",isCustom:"AddressBalance_isCustom__wjOUF",tokenCardBalance:"AddressBalance_tokenCardBalance__2hE2H",tokenCardBalanceContract:"AddressBalance_tokenCardBalanceContract__iQXl6",searchInputWrapper:"AddressBalance_searchInputWrapper__N9Unp",searchInput:"AddressBalance_searchInput__I1TCW",searchAutocomplete:"AddressBalance_searchAutocomplete__Qj6TZ",searchAutocompleteItem:"AddressBalance_searchAutocompleteItem__M1rCV",invalidAddressError:"AddressBalance_invalidAddressError__69SQl"}},28661:function(e){e.exports={tokenCard:"TokenCard_tokenCard__pscnG",tokenCardToken:"TokenCard_tokenCardToken__CRwTf",isCustom:"TokenCard_isCustom__9FSTi",tokenCardBalance:"TokenCard_tokenCardBalance__jmFn_",tokenCardBalanceContract:"TokenCard_tokenCardBalanceContract__cQ7IC"}},12694:function(e){e.exports={tokenCard:"TokenCardMobile_tokenCard__l6C86",tokenCardHeader:"TokenCardMobile_tokenCardHeader__oDL8S",tokenCardToken:"TokenCardMobile_tokenCardToken__P4wFd",isCustom:"TokenCardMobile_isCustom__Iv4xj",tokenCardBalance:"TokenCardMobile_tokenCardBalance__P_JEF",tokenCardBalanceAmount:"TokenCardMobile_tokenCardBalanceAmount__XIauW",tokenCardBalanceContract:"TokenCardMobile_tokenCardBalanceContract__7GJCK",withBorder:"TokenCardMobile_withBorder__iv_fC"}}},function(e){e.O(0,[714,324,249,74,774,888,179],function(){return e(e.s=8073)}),_N_E=e.O()}]);